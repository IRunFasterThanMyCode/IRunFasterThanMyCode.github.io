install.packages(c("ade4", "afex", "base64enc", "BiasedUrn", "boot", "checkmate", "chron", "class", "cluster", "codetools", "coin", "data.table", "devtools", "digest", "fail", "foreach", "foreign", "Formula", "gdata", "ggplot2", "gplots", "gtable", "gtools", "Hmisc", "httr", "iterators", "jsonlite", "lattice", "latticeExtra", "lme4", "lmerTest", "MASS", "Matrix", "matrixStats", "mclust", "memoise", "mgcv", "mnormt", "MuMIn", "munsell", "mvtnorm", "nleqslv", "nlme", "nnet", "nor1mix", "numDeriv", "pbkrtest", "plyr", "psych", "quantreg", "R.methodsS3", "R6", "Rcpp", "RCurl", "registry", "rJava", "roxygen2", "rpart", "rstudioapi", "scales", "SparseM", "spatial", "stringr", "survival", "VennDiagram", "XML", "xtable"))
install.packages("rmarkdown")
summary(rnorm())
summary(rnorm(100))
getwd()
source("rmd2md.R")
rmd2md()
rmd2md()
rmd2md()
View(rmd2md)
rmd2md()
rmd2md
print ("Hello World!" # Final parenthesis missing - CTRL+c or ESC to end
)
print ("Hello World!" # Final parenthesis missing - CTRL+c or ESC to end
)
x <- 3
x <- 5
x # Returns the value stored in 'x' - currently 3
x <- 3
x # Returns the value stored in 'x' - currently 3
x <- 5
x # Returns the value stored in 'x' - now 5
x <- 3
x # Returns the value stored in 'x' - currently 3
x <- 5
x # Returns the value stored in 'x' - now 5
rm(list=ls())
analysis_dir <- "~/Dropbox/Statistics/PeterOrton_DoctorBurnout/Analysis/"
load(paste0(analysis_dir, "article_analysis.Rout"))
head(patient)
table(parient[["LengthMin"]] > 15)
table(patient[["LengthMin"]] > 15)
49/nrow(patient)
100*49/nrow(patient)
patient[["LongConsultation"]] <- patient[["LengthMin"]] >= 15
nrow(subset(patient, LongConsultation))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
boxplot(LongConsultation ~ M1EE)
boxplot(LongConsultation ~ M1EE, data = patient)
boxplot(M1EE ~ LongConsultation, data = patient)
plot(patient[["LongConsultation"]], patient[["M1EE"]])
plot(patient[["LengthMin"]], patient[["M1EE"]])
boxplot(M1EE ~ LongConsultation*GENDER, data = patient)
boxplot(C1cent ~ LongConsultation*GENDER, data = patient, ylab = "")
boxplot(Compi ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
boxplot(Comp1 ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
par (las = 2)
boxplot(Comp1 ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
par (mar = c(7,5,1,1), las = 2)
boxplot(Comp1 ~ LongConsultation*GENDER, data = patient, ylab = "Component I",)
boxplot(Comp1 ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
boxplot(Comp2 ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
boxplot(Comp3i ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
boxplot(Comp3ii ~ LongConsultation*GENDER, data = patient, ylab = "Component I")
plot(patient[["LengthMin"]], patient[["Comp1"]])
plot(patient[["LengthMin"]], patient[["Comp1"]], xlab = "Consultation Length (mins)", ylab = "Component 1")
qqplot(patient, aes(x = LengthMin, y = Comp1, col = GENDER))
ggplot(patient, aes(x = LengthMin, y = Comp1, col = GENDER))
library("ggplot2")
install.packages("ggplot2")
ggplot(patient, aes(x = LengthMin, y = Comp1, col = GENDER)) + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
library("ggplot2")
ggplot(patient, aes(x = LengthMin, y = Comp1, col = GENDER)) + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = Comp1, col = GENDER)) geom_point(aes(colour = factor(GENDER))) + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = Comp1)) + geom_point(aes(colour = factor(GENDER))) + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = Comp1)) + geom_point(aes(colour = factor(GENDER))) + geom_smooth() + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = Comp1, color = GENDER)) + geom_point() + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = Comp1, color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
test <- lm(LengthMin ~ GENDER*Comp1)
test <- lm(LengthMin ~ GENDER*Comp1, data = patient)
summary(test)
test <- lm(Comp1 ~ GENDER*LongConsultation, data = patient)
summary(test)
comp <_ "Comp1"
comp <- "Comp1"
ggplot(patient, aes(x = LengthMin, y = comp, color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = get(comp), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
test <- lm(get(comp) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
for (comp in c("Comp1", "Comp2", "Comp3i", "Comp3ii")) {
png(paste0("~/Dropbox/Statistics/PeterOrton_DoctorBurnout/FurtherAnalysis/Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(comp), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
dev.off()
test <- lm(get(comp) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
png(paste0("~/Dropbox/Statistics/PeterOrton_DoctorBurnout/FurtherAnalysis/Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
dev.off()
ggplot(patient, aes(x = LengthMin, y = patient[[comp]], color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
library("ggplot2")
patient[["LongConsultation"]] <- patient[["LengthMin"]] >= 15
nrow(subset(patient, LongConsultation))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
nrow(subset(patient, LongConsultation & GENDER == "Male"))
nrow(subset(patient, LongConsultation & GENDER == "Female"))
nrow patient
nrow(patient)
list.files(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/FurtherAnalysis/"))
list.files(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/"))
dev.off()
ggplot(patient, aes(x = LengthMin, y = patient[[comp]], color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", ylab = "Component 1", xlab = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = patient[[comp]], color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = "Component 1", x = "Consultation Length (mins)")
comp <- "1"
ggplot(patient, aes(x = LengthMin, y = get(paste0("comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
comp <- "2"
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
for (comp in c("1", "2", "3i", "3ii")) {
png(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
test <- lm(get(comp) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
test <- lm(get(paste0("Comp", comp) ~ GENDER*LongConsultation, data = patient)
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
library("ggplot2")
patient[["LongConsultation"]] <- patient[["LengthMin"]] >= 15
nrow(subset(patient, LongConsultation))
nrow(subset(patient, LongConsultation & GENDER == "Male"))
nrow(subset(patient, LongConsultation & GENDER == "Female"))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
for (comp in c("1", "2", "3i", "3ii")) {
png(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
print(anova(test))
for (comp in c("1", "2", "3i", "3ii")) {
png(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
png(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
list.files(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/Comp1_vs_LengthMin_", comp, ".png"))
list.files(paste0("~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/"))
rm(List=ls())
rm(list=ls())
analysis_dir <- "~/Dropbox/Statistics/PeterOrton_DoctorBurnout/Analysis/"
load(paste0(analysis_dir, "article_analysis.Rout"))
analysis_dir <- "~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/"
load(paste0(analysis_dir, "article_analysis.Rout"))
library("ggplot2")
patient[["LongConsultation"]] <- patient[["LengthMin"]] >= 15
nrow(subset(patient, LongConsultation))
nrow(subset(patient, LongConsultation & GENDER == "Male"))
nrow(subset(patient, LongConsultation & GENDER == "Female"))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
for (comp in c("1", "2", "3i", "3ii")) {
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
paste0(analysis_dir, "article_analysis.Rout")
analysis_dir <- "~/StatisticsConsulting/PeterOrton_DoctorBurnout/Analysis/"
paste0(analysis_dir, "article_analysis.Rout")
png("~/test.png")
plot(1:10)
dev.off()
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
comp <- "1"
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
comp <- "2"
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
comp <- "3i"
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
comp <- "3ii"
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
library("ggplot2")
patient[["LongConsultation"]] <- patient[["LengthMin"]] >= 15
nrow(subset(patient, LongConsultation))
nrow(subset(patient, LongConsultation & GENDER == "Male"))
nrow(subset(patient, LongConsultation & GENDER == "Female"))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
for (comp in c("1", "2", "3i", "3ii")) {
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
patient[["LongConsultation"]] <- ifelse(patient[["LengthMin"]] >= 15, "Longer 15 mins", "Shorter 15 mins")
nrow(subset(patient, LongConsultation))
nrow(subset(patient, LongConsultation & GENDER == "Male"))
nrow(subset(patient, LongConsultation & GENDER == "Female"))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
patient[["LongConsultation"]] <- ifelse(patient[["LengthMin"]] >= 15, "Longer 15 mins", "Shorter 15 mins")
nrow(subset(patient, LongConsultation == "Longer 15 mins"))
nrow(subset(patient, LongConsultation == "Longer 15 mins" & GENDER == "Male"))
nrow(subset(patient, LongConsultation == "Longer 15 mins" & GENDER == "Female"))
100*nrow(subset(patient, LongConsultation))/nrow(patient)
100*nrow(subset(patient, LongConsultation == "Longer 15 mins"))/nrow(patient)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
for (comp in c("1", "2", "3i", "3ii")) {
png(paste0(analysis_dir, "Comp1_vs_LengthMin_", comp, ".png"), height = 6, width = 6, unit = "in", res = 300)
ggplot(patient, aes(x = LengthMin, y = get(paste0("Comp", comp)), color = GENDER)) + geom_point() + geom_vline(xintercept = 15) + geom_smooth(se = FALSE, method = "lm") + labs(title="Patient Centeredness vs Consultation Length", y = paste("Component", comp), x = "Consultation Length (mins)")
dev.off()
test <- lm(get(paste0("Comp", comp)) ~ GENDER*LongConsultation, data = patient)
print(summary(test))
}
install.packages("swirl")
library("swirl")
rm(list=ls())
swirl()
plto(child ~ parent, data = galton)
plot(child ~ parent, data = galton)
plot(jitter(child, 4) ~ parent, data = galton)
regrline <- lm(child ~ parent, data = galton)
abline(regrline, lwd = 3, col = 'red')
summary(regrline)
fit <- lm(child ~ parent, data = galton)
summary(fit)
mean(fit$residuals)
cov(fit$residuals, galton$parent)
ols.ic <- fit$coef[1]
ols.slope <- fit$coef[2]
lhs-rhs
all.equal(lhs, rhs)
varChild <- var(galton$child)
varRes <- var(fit$residuals)
varEst <- var(est(galton$parent)
)
varEst <- var(est(ols.ic, ols.slope))
varEst <- var(est(ols.slope, ols.ic))
all.equal(varRes, varEst)
all.equal(varChild, varRes + varEst)
efit <- lm(accel ~ mag + dist, data = attenu)
mean(efit$residuals)
cov(efit$residuals, attenu$mag)
cov(efit$residuals, attenu$dist)
swirl()
fit <- lm(child ~ parent, galton
)
summary(fit)
mean(fit$residuals)
cov(fit$residuals)
cov(fit$residuals, galton$parent)
ols.ic <- Fit$coef[1]
ols.ic <- fit$coef[1]
ols.slope <- fit$coef[2]
lhs - rhs
all.equal(lhs, rhs)
varChild <- var(galton$child)
varRes <- var(fit$residuals)
varEst <- var(est(ols.slope, ols.ic))
all.equal(varChild, varRes + varEst)
efit M- lm(accel ~ mag+dist, attenu)
efit <- lm(accel ~ mag+dist, attenu)
mean(efit$residuals)
cov(efit$residuals, attenu$mag)
cov(efit$residuals, attenu$dist)
swirl()
cor(gpa_nor, gch_nor)
l_nor <- lm(gch_nor ~ gpa_nor)
